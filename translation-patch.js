// Parche de traducciones faltantes y fixes del scramble\n// PoisonedDog - 2025\n\n// Funci√≥n para corregir traducciones\nfunction fixTranslations() {\n  if (window.portfolioApp && window.portfolioApp.translations) {\n    const enTranslations = window.portfolioApp.translations.en;\n    \n    if (enTranslations.experience && enTranslations.experience.descriptions) {\n      // Completar traducciones faltantes\n      if (!enTranslations.experience.descriptions.wiptool2) {\n        enTranslations.experience.descriptions.wiptool2 = \"Integration with <strong>Mapbox API</strong>\";\n      }\n      if (!enTranslations.experience.descriptions.wiptool3) {\n        enTranslations.experience.descriptions.wiptool3 = \"Responsive design\";\n      }\n      if (!enTranslations.experience.descriptions.frontend3) {\n        enTranslations.experience.descriptions.frontend3 = \"Website maintenance\";\n      }\n    }\n    \n    console.log('‚úÖ Traducciones completadas');\n  }\n}\n\n// Funci√≥n para preservar estilos de fuente durante scramble\nfunction preserveFontStyles() {\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      if (mutation.type === 'attributes' && mutation.attributeName === 'style') {\n        const element = mutation.target;\n        if (element.hasAttribute('data-i18n')) {\n          // Si se est√° haciendo scramble, mantener la fuente original\n          const currentStyle = element.style;\n          if (currentStyle.fontFamily && currentStyle.fontFamily.includes('monospace')) {\n            // Revertir a la fuente original si detectamos monospace\n            const computedStyle = window.getComputedStyle(element);\n            if (computedStyle.fontFamily !== currentStyle.fontFamily) {\n              element.style.fontFamily = '';\n            }\n          }\n        }\n      }\n    });\n  });\n  \n  // Observar cambios en elementos con data-i18n\n  document.querySelectorAll('[data-i18n]').forEach(el => {\n    observer.observe(el, { attributes: true, attributeFilter: ['style'] });\n  });\n}\n\n// Inicializar cuando est√© listo\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    setTimeout(() => {\n      fixTranslations();\n      preserveFontStyles();\n    }, 100);\n  });\n} else {\n  setTimeout(() => {\n    fixTranslations();\n    preserveFontStyles();\n  }, 100);\n}\n\n// Tambi√©n corregir despu√©s de cambios de idioma\ndocument.addEventListener('languageChanged', () => {\n  setTimeout(fixTranslations, 50);\n});\n\n// Funci√≥n global para fix manual\nwindow.fixAllTranslations = function() {\n  fixTranslations();\n  if (window.portfolioApp) {\n    window.portfolioApp.updateTranslations();\n  }\n  console.log('üîß Traducciones corregidas manualmente');\n};\n\nconsole.log('üåê Translation Patch cargado - usa fixAllTranslations() si hay problemas');\n